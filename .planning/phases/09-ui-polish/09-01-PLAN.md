---
phase: 09-ui-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/mobile/src/components/AnimatedButton.tsx
  - packages/mobile/src/components/AnimatedInput.tsx
  - packages/mobile/src/components/FadeInView.tsx
  - packages/mobile/src/components/index.ts
autonomous: true
---

<objective>
Create reusable animated components using React Native's built-in Animated API.

Purpose: Establish animation primitives (AnimatedButton, AnimatedInput, FadeInView) that can be used across screens for consistent micro-interactions.
Output: Three animated components in packages/mobile/src/components/ ready for integration.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-theme-implementation/08-01-SUMMARY.md

Theme colors available at:
@packages/mobile/src/theme/colors.ts

Existing screens to integrate with later:
@packages/mobile/src/screens/JoinScreen.tsx
@packages/mobile/src/screens/HomeScreen.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create AnimatedButton component</name>
  <files>packages/mobile/src/components/AnimatedButton.tsx</files>
  <action>
Create AnimatedButton that wraps TouchableOpacity with scale feedback:

```tsx
import React, { useRef } from 'react';
import { Animated, TouchableOpacity, StyleSheet, ViewStyle, TextStyle } from 'react-native';

interface AnimatedButtonProps {
  onPress: () => void;
  children: React.ReactNode;
  style?: ViewStyle;
  textStyle?: TextStyle;
  disabled?: boolean;
  activeScale?: number; // default 0.96
}
```

Implementation:
- Use useRef to create Animated.Value for scale (initial 1)
- On pressIn: Animated.spring to activeScale (default 0.96)
- On pressOut: Animated.spring back to 1
- Apply transform: [{ scale: scaleAnim }] to Animated.View wrapping TouchableOpacity
- Use useNativeDriver: true for performance
- Pass through disabled prop to TouchableOpacity
- Forward style and children to inner elements

Spring config: { useNativeDriver: true, friction: 4, tension: 100 }

This creates subtle "press down" feel without being distracting.
  </action>
  <verify>TypeScript compiles: cd packages/mobile && pnpm exec tsc --noEmit</verify>
  <done>AnimatedButton component exists with press scale feedback</done>
</task>

<task type="auto">
  <name>Task 2: Create AnimatedInput and FadeInView components</name>
  <files>packages/mobile/src/components/AnimatedInput.tsx, packages/mobile/src/components/FadeInView.tsx</files>
  <action>
**AnimatedInput.tsx:**
Create AnimatedInput that wraps TextInput with focus border animation:

```tsx
interface AnimatedInputProps extends TextInputProps {
  focusBorderColor?: string; // default colors.primary
  unfocusedBorderColor?: string; // default transparent
}
```

Implementation:
- Use useRef for Animated.Value (initial 0)
- onFocus: Animated.timing to 1 (duration: 200)
- onBlur: Animated.timing to 0 (duration: 200)
- Interpolate animated value to borderColor (0 → unfocusedBorderColor, 1 → focusBorderColor)
- Note: borderColor cannot use native driver, set useNativeDriver: false
- Apply animated border to Animated.View wrapping TextInput
- Forward all TextInput props

**FadeInView.tsx:**
Create FadeInView for screen entrance animations:

```tsx
interface FadeInViewProps {
  children: React.ReactNode;
  duration?: number; // default 300
  delay?: number; // default 0
  style?: ViewStyle;
}
```

Implementation:
- Use useRef for Animated.Value (initial 0)
- useEffect on mount: Animated.timing to 1 with duration and delay
- useNativeDriver: true for opacity
- Apply opacity to Animated.View
- Optional: Also animate slight translateY from 10 to 0 for subtle slide-up effect
  </action>
  <verify>TypeScript compiles: cd packages/mobile && pnpm exec tsc --noEmit</verify>
  <done>AnimatedInput with focus highlight and FadeInView for entrances created</done>
</task>

<task type="auto">
  <name>Task 3: Create components index for clean imports</name>
  <files>packages/mobile/src/components/index.ts</files>
  <action>
Create barrel export file:

```ts
export { AnimatedButton } from './AnimatedButton';
export { AnimatedInput } from './AnimatedInput';
export { FadeInView } from './FadeInView';
```

This enables clean imports: `import { AnimatedButton, FadeInView } from '../components';`
  </action>
  <verify>TypeScript compiles and exports are accessible: cd packages/mobile && pnpm exec tsc --noEmit</verify>
  <done>Components barrel export created</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] All three components exist in packages/mobile/src/components/
- [ ] TypeScript compiles without errors
- [ ] Components use useNativeDriver where possible (opacity, transform)
- [ ] AnimatedInput correctly uses useNativeDriver: false for borderColor
</verification>

<success_criteria>

- All tasks completed
- AnimatedButton provides press scale feedback
- AnimatedInput provides focus border highlight
- FadeInView provides entrance fade animation
- Clean imports via index.ts barrel export
  </success_criteria>

<output>
After completion, create `.planning/phases/09-ui-polish/09-01-SUMMARY.md`
</output>
