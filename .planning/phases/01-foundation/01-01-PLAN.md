---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [package.json, pnpm-workspace.yaml, tsconfig.json, packages/shared/package.json, packages/shared/tsconfig.json, packages/shared/src/index.ts, packages/shared/src/types/user.ts, packages/shared/src/types/location.ts]
autonomous: true
---

<objective>
Set up pnpm monorepo with shared TypeScript types package.

Purpose: Create the foundational project structure that mobile and backend packages will build upon. Shared types ensure type safety across the entire stack.
Output: Working monorepo with `packages/shared` exporting common TypeScript types.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize pnpm monorepo</name>
  <files>package.json, pnpm-workspace.yaml</files>
  <action>
    1. Initialize root package.json with:
       - name: "draugar"
       - private: true
       - scripts: {"build": "pnpm -r build", "dev": "pnpm -r --parallel dev", "typecheck": "pnpm -r typecheck"}
    2. Create pnpm-workspace.yaml pointing to packages/*
    3. Create packages/ directory structure: packages/shared/, packages/mobile/, packages/backend/
  </action>
  <verify>pnpm install runs without errors (creates pnpm-lock.yaml)</verify>
  <done>Root package.json and pnpm-workspace.yaml exist, packages/ directories created</done>
</task>

<task type="auto">
  <name>Task 2: Create shared types package</name>
  <files>packages/shared/package.json, packages/shared/tsconfig.json, packages/shared/src/index.ts, packages/shared/src/types/user.ts, packages/shared/src/types/location.ts</files>
  <action>
    1. Create packages/shared/package.json:
       - name: "@draugar/shared"
       - main: "dist/index.js"
       - types: "dist/index.d.ts"
       - scripts: {"build": "tsc", "typecheck": "tsc --noEmit"}
       - devDependencies: typescript
    2. Create packages/shared/tsconfig.json with:
       - target: ES2020, module: commonjs, declaration: true
       - outDir: dist, rootDir: src, strict: true
    3. Create src/types/user.ts with User interface:
       - id: string, name: string, createdAt: Date
    4. Create src/types/location.ts with Location interface:
       - userId: string, latitude: number, longitude: number, timestamp: Date, accuracy: number
    5. Create src/index.ts re-exporting all types
  </action>
  <verify>cd packages/shared && pnpm build succeeds, dist/ contains .js and .d.ts files</verify>
  <done>@draugar/shared package builds and exports User and Location types</done>
</task>

<task type="auto">
  <name>Task 3: Create root TypeScript config</name>
  <files>tsconfig.json</files>
  <action>
    Create root tsconfig.json as base config with:
    - target: ES2020
    - module: commonjs
    - strict: true
    - esModuleInterop: true
    - skipLibCheck: true
    - forceConsistentCasingInFileNames: true

    Individual packages will extend this with their own tsconfig.json.
  </action>
  <verify>pnpm typecheck runs (may have no packages to check yet, but command works)</verify>
  <done>Root tsconfig.json exists as base configuration</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `pnpm install` succeeds at root
- [ ] `pnpm -r build` succeeds (builds shared package)
- [ ] packages/shared/dist/ contains index.js and index.d.ts
- [ ] Types are properly exported (User, Location interfaces)
</verification>

<success_criteria>

- All tasks completed
- Monorepo structure with pnpm workspaces working
- @draugar/shared package builds and exports types
- Ready for mobile and backend packages to depend on shared
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
